.. Generated automatically by doc/tools/makerst.py in Godot's source tree.
.. DO NOT EDIT THIS FILE, but the doc/base/classes.xml source instead.

.. _class_RayCast:

RayCast
=======

**Inherits:** :ref:`Spatial<class_spatial>` **<** :ref:`Node<class_node>` **<** :ref:`Object<class_object>`

**Category:** Core

Brief Description
-----------------

Query the closest object intersecting a ray.

Member Functions
----------------

+--------------------------------+---------------------------------------------------------------------------------------------------------+
| void                           | :ref:`add_exception<class_RayCast_add_exception>`  **(** :ref:`Object<class_object>` node  **)**        |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| void                           | :ref:`add_exception_rid<class_RayCast_add_exception_rid>`  **(** :ref:`RID<class_rid>` rid  **)**       |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| void                           | :ref:`clear_exceptions<class_RayCast_clear_exceptions>`  **(** **)**                                    |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| void                           | :ref:`force_raycast_update<class_RayCast_force_raycast_update>`  **(** **)**                            |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| :ref:`Vector3<class_vector3>`  | :ref:`get_cast_to<class_RayCast_get_cast_to>`  **(** **)** const                                        |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| :ref:`Object<class_object>`    | :ref:`get_collider<class_RayCast_get_collider>`  **(** **)** const                                      |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`          | :ref:`get_collider_shape<class_RayCast_get_collider_shape>`  **(** **)** const                          |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| :ref:`Vector3<class_vector3>`  | :ref:`get_collision_normal<class_RayCast_get_collision_normal>`  **(** **)** const                      |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| :ref:`Vector3<class_vector3>`  | :ref:`get_collision_point<class_RayCast_get_collision_point>`  **(** **)** const                        |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`          | :ref:`get_layer_mask<class_RayCast_get_layer_mask>`  **(** **)** const                                  |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| :ref:`int<class_int>`          | :ref:`get_type_mask<class_RayCast_get_type_mask>`  **(** **)** const                                    |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`        | :ref:`is_colliding<class_RayCast_is_colliding>`  **(** **)** const                                      |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| :ref:`bool<class_bool>`        | :ref:`is_enabled<class_RayCast_is_enabled>`  **(** **)** const                                          |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| void                           | :ref:`remove_exception<class_RayCast_remove_exception>`  **(** :ref:`Object<class_object>` node  **)**  |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| void                           | :ref:`remove_exception_rid<class_RayCast_remove_exception_rid>`  **(** :ref:`RID<class_rid>` rid  **)** |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| void                           | :ref:`set_cast_to<class_RayCast_set_cast_to>`  **(** :ref:`Vector3<class_vector3>` local_point  **)**   |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| void                           | :ref:`set_enabled<class_RayCast_set_enabled>`  **(** :ref:`bool<class_bool>` enabled  **)**             |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| void                           | :ref:`set_layer_mask<class_RayCast_set_layer_mask>`  **(** :ref:`int<class_int>` mask  **)**            |
+--------------------------------+---------------------------------------------------------------------------------------------------------+
| void                           | :ref:`set_type_mask<class_RayCast_set_type_mask>`  **(** :ref:`int<class_int>` mask  **)**              |
+--------------------------------+---------------------------------------------------------------------------------------------------------+

Member Variables
----------------

- :ref:`Vector3<class_vector3>` **cast_to**
- :ref:`bool<class_bool>` **enabled**
- :ref:`int<class_int>` **layer_mask**
- :ref:`int<class_int>` **type_mask**

Description
-----------

A RayCast represents a line from its origin to its destination position ``cast_to``, it is used to query the 3D space in order to find the closest object intersecting with the ray.



RayCast can ignore some objects by adding them to the exception list via ``add_exception``, setting proper filtering with layers, or by filtering object types with type masks.



Only enabled raycasts will be able to query the space and report collisions!



RayCast calculates intersection every fixed frame (see :ref:`Node<class_node>`), and the result is cached so it can be used later until the next frame. If multiple queries are required between fixed frames (or during the same frame) use :ref:`force_raycast_update<class_RayCast_force_raycast_update>` after adjusting the raycast.

Member Function Description
---------------------------

.. _class_RayCast_add_exception:

- void  **add_exception**  **(** :ref:`Object<class_object>` node  **)**

Adds a collision exception so the ray does not report collisions with the specified ``node``.

.. _class_RayCast_add_exception_rid:

- void  **add_exception_rid**  **(** :ref:`RID<class_rid>` rid  **)**

.. _class_RayCast_clear_exceptions:

- void  **clear_exceptions**  **(** **)**

Removes all collision exception for this ray.

.. _class_RayCast_force_raycast_update:

- void  **force_raycast_update**  **(** **)**

Updates the collision information in case if this object's properties changed during the current frame (for example position, rotation or the cast_point). Note, ``set_enabled`` is not required for this to work.

.. _class_RayCast_get_cast_to:

- :ref:`Vector3<class_vector3>`  **get_cast_to**  **(** **)** const

Return the destination point of this ray object.

.. _class_RayCast_get_collider:

- :ref:`Object<class_object>`  **get_collider**  **(** **)** const

Return the closest object the ray is pointing to. Note that this does not consider the length of the vector, so you must also use :ref:`is_colliding<class_RayCast_is_colliding>` to check if the object returned is actually colliding with the ray.

.. _class_RayCast_get_collider_shape:

- :ref:`int<class_int>`  **get_collider_shape**  **(** **)** const

Returns the collision shape of the closest object the ray is pointing to.

.. _class_RayCast_get_collision_normal:

- :ref:`Vector3<class_vector3>`  **get_collision_normal**  **(** **)** const

Returns the normal of the intersecting object shape face containing the collision point.

.. _class_RayCast_get_collision_point:

- :ref:`Vector3<class_vector3>`  **get_collision_point**  **(** **)** const

Returns collision point. This point is in **global** coordinate system.

.. _class_RayCast_get_layer_mask:

- :ref:`int<class_int>`  **get_layer_mask**  **(** **)** const

Returns the layer mask for this ray.

.. _class_RayCast_get_type_mask:

- :ref:`int<class_int>`  **get_type_mask**  **(** **)** const

Returns the type mask (types of objects to detect) for this ray. The value is a sum (bitwise OR'd) of constants available for :ref:`PhysicsDirectSpaceState<class_physicsdirectspacestate>`.

.. _class_RayCast_is_colliding:

- :ref:`bool<class_bool>`  **is_colliding**  **(** **)** const

Return whether the closest object the ray is pointing to is colliding with the vector (considering the vector length).

.. _class_RayCast_is_enabled:

- :ref:`bool<class_bool>`  **is_enabled**  **(** **)** const

Returns whether this raycast is enabled or not.

.. _class_RayCast_remove_exception:

- void  **remove_exception**  **(** :ref:`Object<class_object>` node  **)**

Removes a collision exception so the ray does report collisions with the specified ``node``.

.. _class_RayCast_remove_exception_rid:

- void  **remove_exception_rid**  **(** :ref:`RID<class_rid>` rid  **)**

.. _class_RayCast_set_cast_to:

- void  **set_cast_to**  **(** :ref:`Vector3<class_vector3>` local_point  **)**

Sets to which point ray should be casted. This point is in **local** coordinate system.

.. _class_RayCast_set_enabled:

- void  **set_enabled**  **(** :ref:`bool<class_bool>` enabled  **)**

Enables the RayCast2D. Only enabled raycasts will be able to query the space and report collisions.

.. _class_RayCast_set_layer_mask:

- void  **set_layer_mask**  **(** :ref:`int<class_int>` mask  **)**

Set the mask to filter objects. Only objects with at least the same mask element set will be detected.

.. _class_RayCast_set_type_mask:

- void  **set_type_mask**  **(** :ref:`int<class_int>` mask  **)**

Set the types of objects to detect. For ``mask`` use a logic sum (OR operation) of constants defined in :ref:`PhysicsDirectSpaceState<class_physicsdirectspacestate>`, eg. ``PhysicsDirectSpaceState.TYPE_MASK_STATIC_BODY | PhysicsDirectSpaceState.TYPE_MASK_KINEMATIC_BODY`` to detect only those two types.


