{% extends "!layout.html" -%}
{# Refer to https://github.com/readthedocs/sphinx_rtd_theme/blob/master/sphinx_rtd_theme/layout.html #}

{% block htmltitle -%}
<title>{{ godot_title_prefix }}{{ title|striptags|e }}{{ titlesuffix }}</title>
{% endblock -%}

{% block extrahead -%}
<meta name="doc_version" content="{{ version }}" />
<meta name="doc_is_latest" content="{{ godot_is_latest }}" />
<meta name="doc_pagename" content="{{ pagename }}" />
{% endblock -%}

{% block linktags -%}
  <meta name="theme-color" content="#3d8fcc" />
  {{ super() }}
{% endblock -%}

{%- block document %}
<div itemprop="articleBody">
  {% if godot_is_latest or godot_show_article_status %}
  <div class="admonition-grid">
    {% if godot_is_latest %}
    <div class="admonition attention latest-notice">
      <p class="first admonition-title">Attention: Here be dragons</p>
      <p>
        This is the <code class="docutils literal notranslate"><span class="pre">latest</span></code>
        (unstable) version of this documentation, which may document features
        not available in or compatible with released stable versions of Godot.
      </p>
      <p class="last latest-notice-link">
        Checking the stable version of the documentation...
      </p>
    </div>
    {% endif %}

    {% if godot_show_article_status and not godot_is_latest %}
    <div class="admonition attention article-status">
      <p class="first admonition-title">Outdated documentation</p>
      <p>
        This documentation page refers to Godot
        <code class="docutils literal notranslate">{{ godot_version }}</code>,
        and may be <strong>outdated</strong> or incorrect.<br>
        Additionally, this engine version is
        <a href="https://docs.godotengine.org/en/latest/about/release_policy.html#release-support-timeline">no longer supported</a>.
      </p>
      <p>
        <a href="https://docs.godotengine.org/en/stable/{{ pagename }}.html">Check this page in the stable branch</a> for the latest additions and corrections.
      </p>
    </div>
    {% endif %}
  </div>
  {% endif %}

  {% block body %}{% endblock %}

{% if (not meta or meta.get('allow_comments') != 'False') and godot_show_article_comments %}
<div id="godot-giscus">
    <hr>
        <h2>User-contributed notes</h2>
    <p>
        <em>Please read the <a href="https://github.com/godotengine/godot-docs-user-notes/discussions/1">User-contributed notes policy</a> before submitting a comment.</em>
    </p>
</div>
{% endif %}

{%- if self.comments()|trim %}
  <div class="articleComments">
    {%- block comments %}{% endblock %}
  </div>
{%- endif%}
</div>
{%- endblock %}
